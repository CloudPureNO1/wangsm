webpackJsonp([17],{Ogb3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),r=n.n(a),i=n("hEqV"),l=n("V8q2"),o=n("NYxO"),s={data:function(){return{maxHeight:100,showOverflowTooltip:!0,fixed:"right",opWidth:"200",align:"center",pageSizes:[10,20,50,100,200,300,400,500],isSiglePageHide:!1,pglayout:"total, sizes, prev, pager,  next, jumper"}},created:function(){this.$nextTick(function(){var e=this.$el.parentElement.parentElement.parentElement.offsetHeight,t=document.getElementsByClassName("el-tabs__header is-top")[0].offsetHeight;this.maxHeight=e-t-43})},computed:r()({},Object(o.d)({pageSize:function(e){return e.user.pageSize},currentPage:function(e){return e.user.currentPage},userList:function(e){return e.user.userList},total:function(e){return e.user.total},rates:function(e){return e.comm.rates}})),mounted:function(){0==this.userList.length&&i.a.$loadUsers(this,{currentPage:this.currentPage,pageSize:this.pageSize})},methods:r()({},Object(o.b)({setPageSize:"user/setPageSize",setCurrentPage:"user/setCurrentPage",loadUserList:"user/setUsersData"}),{formatUserRate:function(e,t){0==this.rates.length&&l.a.$loadRates(this);var n=this.rates.find(function(t){return t.value==e.userRate});return null!=n&&void 0!=n?n.label:e.userRate},handleAdd:function(){this.$router.push("/userAdd")},handleClick:function(e,t){this.$router.push({path:"/userInfo",query:{userData:t}})},handleEdit:function(e,t){this.$router.push({path:"/userEdit",query:{userData:t}})},handleDelete:function(e,t){i.a.$deleteUser(this,t)},handleSizeChange:function(e){var t=this,n=this;this.setPageSize(e).then(function(){i.a.$loadUsers(n,{currentPage:t.currentPage,pageSize:t.pageSize})})},handleCurrentChange:function(e){var t=this,n=this;this.setCurrentPage(e).then(function(){i.a.$loadUsers(n,{currentPage:t.currentPage,pageSize:t.pageSize})})}})},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"users-main"},[n("el-table",{attrs:{data:e.userList,"max-height":e.maxHeight}},[n("el-table-column",{attrs:{label:"序号",type:"index",fixed:"left"}}),e._v(" "),n("el-table-column",{attrs:{label:"用户ID",prop:"userId",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),n("el-table-column",{attrs:{label:"用户名",prop:"userName",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),n("el-table-column",{attrs:{label:"密码",prop:"passwd",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),n("el-table-column",{attrs:{label:"等级",prop:"userRate",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip,formatter:e.formatUserRate}}),e._v(" "),n("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),n("el-table-column",{attrs:{label:"创建者",prop:"creator",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),n("el-table-column",{attrs:{label:"更新时间",prop:"updateTime",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),n("el-table-column",{attrs:{label:"描述",prop:"userDesc",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),n("el-table-column",{attrs:{fixed:e.fixed,width:e.opWidth,align:e.align},scopedSlots:e._u([{key:"header",fn:function(t){return[n("span",[e._v("操作  ")]),e._v(" "),n("span",[n("el-button",{attrs:{size:"mini",round:"",icon:"el-icon-circle-plus",type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)]}},{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-view"},on:{click:function(n){return e.handleClick(t.$index,t.row)}}}),e._v(" "),n("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-edit",type:"primary"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}}),e._v(" "),n("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-delete",type:"danger"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}})]}}])})],1),e._v(" "),n("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:e.pglayout,total:e.total,"hide-on-single-page":e.isSiglePageHide,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]},c=n("VU/8")(s,u,!1,null,null,null);t.default=c.exports}});