webpackJsonp([6],{"+55Q":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("gRE1"),a=r.n(s),l=r("Dd8w"),o=r.n(l),i=r("oDEX"),u=r("V8q2"),n=r("hEqV"),m=r("E3NA"),c=r("NYxO"),d={name:"UserEdit",data:function(){return{labelPosition:"right",labelWidth:"auto",size:"medium",isShowPassword:!0,loading:!1,userForm:[],rules:{userName:[{required:!0,message:"请输入用户名",trigger:["blur","change"]},{min:5,message:"长度不能小于5",trigger:["blur","change"]},{validator:m.default.validateUsername,trigger:["blur","change"]}],passwd:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{min:6,max:20,message:"长度在6 到 20之间",trigger:["blur","change"]},{validator:m.default.validatePasswd,trigger:["blur","change"]}],userRealName:[{required:!0,message:"请输入真实姓名",trigger:["blur","change"]}]}}},computed:o()({},Object(c.d)({sexs:function(e){return e.comm.sexList},rates:function(e){return e.comm.rates}}),Object(c.c)({deptList:"dept/getDeptDropDown"})),created:function(){this.userForm=this.$route.query.userData},mounted:function(){void 0!=this.sexs&&0!=this.sexs.length||u.a.$loadSexList(this),void 0!=this.rates&&0!=this.rates.length||u.a.$loadRates(this),void 0!=this.deptList&&0!=this.deptList.length||i.a.$loadDeptList(this)},watch:{$route:function(){this.$refs.userName.focus(),this.$refs.userName.blur()}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e,r){if(!e){var s=a()(r).map(function(e){return e[0].message});return t.$alert(s.join(","),"温馨提示",{type:"warning"}),!1}var l=t;n.a.$updateUser(l,t.userForm)})},resetForm:function(e){this.$refs[e].resetFields()},handleSelect:function(e){console.log("dpItem.value>>>",e.value,e)}}},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("fieldset",[r("legend",[e._v("用户信息")]),e._v(" "),r("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.rules,"status-icon":"",size:e.size,"label-width":e.labelWidth,"label-position":e.labelPosition}},[r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[r("el-input",{attrs:{readonly:""},model:{value:e.userForm.userId,callback:function(t){e.$set(e.userForm,"userId",t)},expression:"userForm.userId"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[r("el-input",{ref:"userName",model:{value:e.userForm.userName,callback:function(t){e.$set(e.userForm,"userName",t)},expression:"userForm.userName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"密码",prop:"passwd"}},[r("el-input",{attrs:{"show-password":e.isShowPassword},model:{value:e.userForm.passwd,callback:function(t){e.$set(e.userForm,"passwd",t)},expression:"userForm.passwd"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"身份证号码",prop:"identityCard"}},[r("el-input",{model:{value:e.userForm.identityCard,callback:function(t){e.$set(e.userForm,"identityCard",t)},expression:"userForm.identityCard"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"姓名",prop:"userRealName"}},[r("el-input",{model:{value:e.userForm.userRealName,callback:function(t){e.$set(e.userForm,"userRealName",t)},expression:"userForm.userRealName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"性别",prop:"userSex"}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.userForm.userSex,callback:function(t){e.$set(e.userForm,"userSex",t)},expression:"userForm.userSex"}},e._l(e.sexs,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"等级",prop:"userRate"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.userRate,callback:function(t){e.$set(e.userForm,"userRate",t)},expression:"userForm.userRate"}},e._l(e.rates,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"出生日期",prop:"userBirthDay"}},[r("el-date-picker",{staticStyle:{width:"100%"},model:{value:e.userForm.userBirthDay,callback:function(t){e.$set(e.userForm,"userBirthDay",t)},expression:"userForm.userBirthDay"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"年龄",prop:"userAge"}},[r("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,max:100,"controls-position":"right","step-strictly":""},model:{value:e.userForm.userAge,callback:function(t){e.$set(e.userForm,"userAge",t)},expression:"userForm.userAge"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"所属部门",prop:"deptId"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.userForm.deptId,callback:function(t){e.$set(e.userForm,"deptId",t)},expression:"userForm.deptId"}},e._l(this.deptList,function(e){return r("el-option",{key:e.value,staticStyle:{width:"100%"},attrs:{label:e.label,value:e.value}})}),1)],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"联系电话",prop:"userTel"}},[r("el-input",{model:{value:e.userForm.userTel,callback:function(t){e.$set(e.userForm,"userTel",t)},expression:"userForm.userTel"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"创建者",prop:"creator"}},[r("el-input",{attrs:{readonly:""},model:{value:e.userForm.creator,callback:function(t){e.$set(e.userForm,"creator",t)},expression:"userForm.creator"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",readonly:""},model:{value:e.userForm.createTime,callback:function(t){e.$set(e.userForm,"createTime",t)},expression:"userForm.createTime"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"更新时间",prop:"updateTime",readonly:""}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.userForm.updateTime,callback:function(t){e.$set(e.userForm,"updateTime",t)},expression:"userForm.updateTime"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"联系人",prop:"userConcat"}},[r("el-input",{model:{value:e.userForm.userContact,callback:function(t){e.$set(e.userForm,"userContact",t)},expression:"userForm.userContact"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"联系人电话",prop:"userContactTel"}},[r("el-input",{model:{value:e.userForm.userContactTel,callback:function(t){e.$set(e.userForm,"userContactTel",t)},expression:"userForm.userContactTel"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"关系",prop:"relationship"}},[r("el-input",{model:{value:e.userForm.relationship,callback:function(t){e.$set(e.userForm,"relationship",t)},expression:"userForm.relationship"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[r("el-input",{model:{value:e.userForm.address,callback:function(t){e.$set(e.userForm,"address",t)},expression:"userForm.address"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"用户描述",prop:"userDesc"}},[r("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.userForm.userDesc,callback:function(t){e.$set(e.userForm,"userDesc",t)},expression:"userForm.userDesc"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"详细描述",prop:"description"}},[r("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.userForm.description,callback:function(t){e.$set(e.userForm,"description",t)},expression:"userForm.description"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("userForm")}}},[e._v("重置")])],1)],1)],1)],1)])},staticRenderFns:[]},f=r("VU/8")(d,p,!1,null,null,null);t.default=f.exports},E3NA:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r("7+uW");var s={validatePasswd:function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[~!@#$%^&*()_+`\-={}:";'<>,.\/]).{8,20}/.test(e)},validateUsername:function(e){return/^[A-Za-z][\w]{5,}$/.test(e)}},a={validateUsername:function(e,t,r){if(!s.validateUsername(t)){var a={message:"用户名只能由字母、数组和下划线组成，必须以字母开头，长度大于等于6"};return a.field=e.field,r(a)}return r()},validatePasswd:function(e,t,r){if(!s.validatePasswd(t)){var a={message:"密码必须包含大小写字母、数字和特殊字符，且长度大于等于在8在20之间"};return a.field=e.field,r(a)}return r()}};t.default=a},Mb2X:function(e,t){},O0gx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={components:{"mtms-user-edit-content":r("+55Q").default},data:function(){return{userEditHeight:"450px",isSshowChild:!0}},created:function(){this.$nextTick(function(){var e=this.$el.parentElement.parentElement.parentElement.offsetHeight,t=document.getElementsByClassName("el-tabs__header is-top")[0].offsetHeight;this.userEditHeight=e-t-13+"px"})},methods:{setShow:function(e){var t=this;this.isSshowChild=e,setTimeout(function(){t.isSshowChild=!0},5)}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"user-edit-main",style:{height:this.userEditHeight,overflow:"auto"}},[this.isSshowChild?t("mtms-user-edit-content",{on:{isShow:this.setShow}}):this._e()],1)},staticRenderFns:[]};var l=r("VU/8")(s,a,!1,function(e){r("Mb2X")},null,null);t.default=l.exports},oDEX:function(e,t,r){"use strict";var s=r("zNUS"),a=[{deptName:"产品中心",deptId:"10001",createdTime:"2020-04-30 13:12:11",update_time:"2020-04-30  13:12:11",creator:"Admin",deptDesc:"负责产品运营",deptContact:"王美美",deptTel:"123xxxxxxxx",deptEmail:"123@qq.com",deptSimpleName:"产品中心",deptLeader:"施玲群"},{deptName:"大客户部",deptId:"10002",createdTime:"2020-04-30 13:12:11",update_time:"2020-04-30  13:12:11",creator:"Admin",deptDesc:"负责产品运营",deptContact:"王美美",deptTel:"123xxxxxxxx",deptEmail:"123@qq.com",deptSimpleName:"产品中心",deptLeader:"施玲群"},{deptName:"客户服务部",deptId:"10002",createdTime:"2020-04-30 13:12:11",update_time:"2020-04-30  13:12:11",creator:"Admin",deptDesc:"负责产品运营",deptContact:"王美美",deptTel:"123xxxxxxxx",deptEmail:"123@qq.com",deptSimpleName:"产品中心",deptLeader:"施玲群"}];r.n(s).a.mock(/\/mtms\/api\/loadDeptList/,function(e){var t={code:0,body:{}};return"POST"!=e.type?(t.code=-9,t.msg="请使用POST请求",t):(e.body&&(t.body.data=a,t.body.total=8),t)});var l=r("zEh/");t.a={$loadDeptList:function(e){Object(l.b)("loadDeptList").then(function(t){0==t.data.code?t.data.body&&e.$store.dispatch("dept/setDeptList",t.data.body):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})}}}});