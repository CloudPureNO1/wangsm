webpackJsonp([9],{Laew:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("gRE1"),a=r.n(o),u=r("Dd8w"),n=r.n(u),s=r("NYxO"),i=r("V8q2"),p=r("Zqbu"),l={data:function(){return{groupForm:{},rules:{groupName:[{required:!0,message:"请输入角色名称",trigger:["blur","change"]},{min:5,message:"长度不能小于5",trigger:["blur","change"]}],groupType:[{required:!0,message:"请输入密码",trigger:["blur","change"]}]},labelPosition:"right",labelWidth:"auto",size:"medium",isShowPassword:!0,loading:!1}},created:function(){this.groupForm=void 0==this.$route.query.groupData?{}:this.$route.query.groupData},computed:n()({},Object(s.d)({groupTypes:function(e){return e.comm.groupTypes}})),mounted:function(){0==this.groupTypes.length&&i.a.$loadGroupTypes(this)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e,r){if(!e){var o=a()(r).map(function(e){return e[0].message});return t.$alert(o.join(","),"温馨提示",{type:"warning"}),!1}var u=t;p.a.$saveGroup(u,t.groupForm)})},resetForm:function(e){this.$refs[e].resetFields()}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{attrs:{shadow:"hover","body-style":"padding:10px"}},[r("el-form",{ref:"groupForm",attrs:{model:e.groupForm,rules:e.rules,"status-icon":"",size:e.size,"label-width":e.labelWidth,"label-position":e.labelPosition}},[r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"用户组ID",prop:"groupId"}},[r("el-input",{attrs:{readonly:""},model:{value:e.groupForm.groupId,callback:function(t){e.$set(e.groupForm,"groupId",t)},expression:"groupForm.groupId"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"用户组名称",prop:"groupName"}},[r("el-input",{model:{value:e.groupForm.groupName,callback:function(t){e.$set(e.groupForm,"groupName",t)},expression:"groupForm.groupName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"用户组类型",prop:"groupType",placeholder:"请选择"}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.groupForm.groupType,callback:function(t){e.$set(e.groupForm,"groupType",t)},expression:"groupForm.groupType"}},e._l(e.groupTypes,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"创建者",prop:"creator"}},[r("el-input",{model:{value:e.groupForm.creator,callback:function(t){e.$set(e.groupForm,"creator",t)},expression:"groupForm.creator"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.groupForm.createTime,callback:function(t){e.$set(e.groupForm,"createTime",t)},expression:"groupForm.createTime"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"更新时间",prop:"updateTime",readonly:""}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.groupForm.updateTime,callback:function(t){e.$set(e.groupForm,"updateTime",t)},expression:"groupForm.updateTime"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"详细描述",prop:"groupDesc"}},[r("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.groupForm.groupDesc,callback:function(t){e.$set(e.groupForm,"groupDesc",t)},expression:"groupForm.groupDesc"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("groupForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("groupForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)},staticRenderFns:[]},g=r("VU/8")(l,c,!1,null,null,null);t.default=g.exports},StM6:function(e,t){},Zqbu:function(e,t,r){"use strict";var o=r("zNUS"),a=r.n(o),u=20,n=[],s={groupId:10001,groupName:"超级管理员用户组",groupType:"admin",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",groupDesc:"超级管理员用户组"},i={groupId:10002,groupName:"普通管理员用户组",groupType:"manager",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",groupDesc:"普通管理员用户组"};n.push({groupId:10003,groupName:"用户组",groupType:"user",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",groupDesc:"用户组"});a.a.mock(/\/mtms\/api\/loadGroups/,function(e){var t={code:0,body:{}};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var r=[],o=JSON.parse(e.body);1==o.currentPage&&(r=new Array(o.pageSize-n.length).fill(s).concat(n)),2==o.currentPage&&(r=new Array(o.pageSize-n.length).fill(i).concat(n)),t.body.data=r,t.body.total=u}return t});a.a.mock(/\/mtms\/api\/saveGroup/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var r=JSON.parse(e.body);console.log(r),n.push(r),u+=1,t.msg="成功"}return t});a.a.mock(/\/mtms\/api\/deleteGroup/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var r=JSON.parse(e.body);console.log(r),n.pop(r),u-=1,t.msg="成功"}return t});a.a.mock(/\/mtms\/api\/updateGroup/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var r=JSON.parse(e.body);console.log(r),s=r,t.msg="成功"}return t});var p=r("zEh/"),l=function(e,t){Object(p.b)("loadGroups",t).then(function(t){if(0!=t.data.code)return console.log(t),void e.$alert(t.data.msg,"温馨提示",{type:"warning"});e.$store.dispatch("group/setGroupList",t.data.body)}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"warning"})})};t.a={$loadGroups:l,$saveGroup:function(e,t){Object(p.b)("saveGroup",t).then(function(t){0==t.data.code?e.$alert("保存成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.group.pageSize,t.currentPage=e.$store.state.group.currentPage,l(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})},$updateGroup:function(e,t){Object(p.b)("updateGroup",t).then(function(t){0==t.data.code?e.$alert("修改成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.group.pageSize,t.currentPage=e.$store.state.group.currentPage,l(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})},$deleteGroup:function(e,t){Object(p.b)("deleteGroup",t).then(function(t){0==t.data.code?e.$alert("删除成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.group.pageSize,t.currentPage=e.$store.state.group.currentPage,l(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})}}},avtd:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={components:{"mtms-group-content":r("Laew").default},data:function(){return{userAddHeight:"450px",isSshowChild:!0}},created:function(){this.$nextTick(function(){var e=this.$el.parentElement.parentElement.parentElement.offsetHeight,t=document.getElementsByClassName("el-tabs__header is-top")[0].offsetHeight;this.userAddHeight=e-t-13+"px"})},watch:{$route:function(){this.setShow(!1)}},methods:{setShow:function(e){var t=this;this.isSshowChild=e,setTimeout(function(){t.isSshowChild=!0},5)}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"group-add-main",style:{height:this.userAddHeight,overflow:"auto"}},[this.isSshowChild?t("mtms-group-content",{on:{isShow:this.setShow}}):this._e()],1)},staticRenderFns:[]};var u=r("VU/8")(o,a,!1,function(e){r("StM6")},null,null);t.default=u.exports}});