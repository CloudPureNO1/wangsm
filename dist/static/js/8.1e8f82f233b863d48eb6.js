webpackJsonp([8],{efNP:function(e,t){},gl4o:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={components:{"mtms-role-content":r("iTe0").default},data:function(){return{userAddHeight:"450px",isSshowChild:!0}},created:function(){this.$nextTick(function(){var e=this.$el.parentElement.parentElement.parentElement.offsetHeight,t=document.getElementsByClassName("el-tabs__header is-top")[0].offsetHeight;this.userAddHeight=e-t-13+"px"})},watch:{$route:function(){this.setShow(!1)}},methods:{setShow:function(e){var t=this;this.isSshowChild=e,setTimeout(function(){t.isSshowChild=!0},5)}}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"role-add-main",style:{height:this.userAddHeight,overflow:"auto"}},[this.isSshowChild?t("mtms-role-content",{on:{isShow:this.setShow}}):this._e()],1)},staticRenderFns:[]};var a=r("VU/8")(o,l,!1,function(e){r("efNP")},null,null);t.default=a.exports},iTe0:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("gRE1"),l=r.n(o),a=r("Dd8w"),s=r.n(a),n=r("NYxO"),i=r("V8q2"),c=r("qBvb"),u={data:function(){return{roleForm:{},rules:{roleName:[{required:!0,message:"请输入角色名称",trigger:["blur","change"]},{min:5,message:"长度不能小于5",trigger:["blur","change"]}],roleType:[{required:!0,message:"请输入密码",trigger:["blur","change"]}],userRealName:[{required:!0,message:"请输入真实姓名",trigger:["blur","change"]}]},labelPosition:"right",labelWidth:"auto",size:"medium",isShowPassword:!0,loading:!1}},created:function(){this.roleForm=void 0==this.$route.query.roleData?{}:this.$route.query.roleData},computed:s()({},Object(n.d)({roleTypes:function(e){return e.comm.roleTypes}})),mounted:function(){0==this.roleTypes.length&&i.a.$loadRoleTypes(this)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e,r){if(!e){var o=l()(r).map(function(e){return e[0].message});return t.$alert(o.join(","),"温馨提示",{type:"warning"}),!1}var a=t;c.a.$saveRole(a,t.roleForm)})},resetForm:function(e){this.$refs[e].resetFields()}}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{attrs:{shadow:"hover","body-style":"padding:10px"}},[r("el-form",{ref:"roleForm",attrs:{model:e.roleForm,rules:e.rules,"status-icon":"",size:e.size,"label-width":e.labelWidth,"label-position":e.labelPosition}},[r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"角色ID",prop:"roleId"}},[r("el-input",{attrs:{readonly:""},model:{value:e.roleForm.roleId,callback:function(t){e.$set(e.roleForm,"roleId",t)},expression:"roleForm.roleId"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"角色名称",prop:"roleName"}},[r("el-input",{model:{value:e.roleForm.roleName,callback:function(t){e.$set(e.roleForm,"roleName",t)},expression:"roleForm.roleName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"角色类型",prop:"roleType",placeholder:"请选择"}},[r("el-select",{staticStyle:{width:"100%"},model:{value:e.roleForm.roleType,callback:function(t){e.$set(e.roleForm,"roleType",t)},expression:"roleForm.roleType"}},e._l(e.roleTypes,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:7}},[r("el-form-item",{attrs:{label:"创建者",prop:"creator"}},[r("el-input",{model:{value:e.roleForm.creator,callback:function(t){e.$set(e.roleForm,"creator",t)},expression:"roleForm.creator"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"创建时间",prop:"createTime"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.roleForm.createTime,callback:function(t){e.$set(e.roleForm,"createTime",t)},expression:"roleForm.createTime"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:7,offset:1}},[r("el-form-item",{attrs:{label:"更新时间",prop:"updateTime",readonly:""}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.roleForm.updateTime,callback:function(t){e.$set(e.roleForm,"updateTime",t)},expression:"roleForm.updateTime"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:23}},[r("el-form-item",{attrs:{label:"详细描述",prop:"roleDesc"}},[r("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.roleForm.roleDesc,callback:function(t){e.$set(e.roleForm,"roleDesc",t)},expression:"roleForm.roleDesc"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("roleForm")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(t){return e.resetForm("roleForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)},staticRenderFns:[]},d=r("VU/8")(u,m,!1,null,null,null);t.default=d.exports},qBvb:function(e,t,r){"use strict";var o=r("zNUS"),l=r.n(o),a=20,s=[],n={roleId:10001,roleName:"超级管理员角色",roleType:"admin",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",roleDesc:"超级管理员角色"},i={roleId:10002,roleName:"普通管理员角色",roleType:"manager",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",roleDesc:"普通管理员角色"};s.push({roleId:10003,roleName:"用户",roleType:"user",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",roleDesc:"用户"});l.a.mock(/\/mtms\/api\/loadRoles/,function(e){var t={code:0,body:{}};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var r=[],o=JSON.parse(e.body);1==o.currentPage&&(r=new Array(o.pageSize-s.length).fill(n).concat(s)),2==o.currentPage&&(r=new Array(o.pageSize-s.length).fill(i).concat(s)),t.body.data=r,t.body.total=a}return t});l.a.mock(/\/mtms\/api\/saveRole/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var r=JSON.parse(e.body);console.log(r),s.push(r),a+=1,t.msg="成功"}return t});l.a.mock(/\/mtms\/api\/deleteRole/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var r=JSON.parse(e.body);console.log(r),s.pop(r),a-=1,t.msg="成功"}return t});l.a.mock(/\/mtms\/api\/updateRole/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var r=JSON.parse(e.body);console.log(r),n=r,t.msg="成功"}return t});var c=r("zEh/"),u=function(e,t){Object(c.b)("loadRoles",t).then(function(t){if(0!=t.data.code)return console.log(t),void e.$alert(t.data.msg,"温馨提示",{type:"warning"});e.$store.dispatch("role/setRoleList",t.data.body)}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"warning"})})};t.a={$loadRoles:u,$saveRole:function(e,t){Object(c.b)("saveRole",t).then(function(t){0==t.data.code?e.$alert("保存成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.role.pageSize,t.currentPage=e.$store.state.role.currentPage,u(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})},$updateRole:function(e,t){Object(c.b)("updateRole",t).then(function(t){0==t.data.code?e.$alert("修改成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.role.pageSize,t.currentPage=e.$store.state.role.currentPage,u(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})},$deleteRole:function(e,t){Object(c.b)("deleteRole",t).then(function(t){0==t.data.code?e.$alert("删除成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.role.pageSize,t.currentPage=e.$store.state.role.currentPage,u(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})}}}});