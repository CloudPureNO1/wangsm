webpackJsonp([14],{FQuW:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("Dd8w"),a=o.n(r),n=o("NYxO"),i=o("Zqbu"),u=o("V8q2"),l={data:function(){return{maxHeight:100,showOverflowTooltip:!0,fixed:"right",opWidth:"200",align:"center",pageSizes:[10,20,50,100,200,300,400,500],isSiglePageHide:!1,pglayout:"total, sizes, prev, pager,  next, jumper"}},created:function(){this.$nextTick(function(){var e=this.$el.parentElement.parentElement.parentElement.offsetHeight,t=document.getElementsByClassName("el-tabs__header is-top")[0].offsetHeight;this.maxHeight=e-t-43})},computed:a()({},Object(n.d)({groupTypes:function(e){return e.comm.groupTypes},groupList:function(e){return e.group.groupList},total:function(e){return e.group.total},pageSize:function(e){return e.group.pageSize},currentPage:function(e){return e.group.currentPage}})),mounted:function(){0==this.groupList.length&&i.a.$loadGroups(this,{pageSize:this.pageSize,currentPage:this.currentPage})},methods:a()({},Object(n.b)({setPageSize:"group/setPageSize",setCurrentPage:"group/setCurrentPage"}),{formatGroupTypes:function(e,t){0==this.groupTypes.length&&u.a.$loadGroupTypes(this);var o=this.groupTypes.find(function(t){return t.value==e.groupType});return null!=o&&void 0!=o?o.label:e.groupType},handleAdd:function(){this.$router.push({path:"/groupAddEdit",query:{groupData:{}}})},handleClick:function(e,t){this.$router.push({path:"/groupInfo",query:{groupData:t}})},handleEdit:function(e,t){this.$router.push({path:"/groupAddEdit",query:{roleData:t}})},handleDelete:function(e,t){i.a.$deleteGroup(this,t)},handleSizeChange:function(e){var t=this,o=this;this.setPageSize(e).then(function(){i.a.$loadGroups(o,{currentPage:t.currentPage,pageSize:t.pageSize})})},handleCurrentChange:function(e){var t=this,o=this;this.setCurrentPage(e).then(function(){i.a.$loadGroups(o,{currentPage:t.currentPage,pageSize:t.pageSize})})}})},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",[o("el-col",{attrs:{span:24}},[o("el-card",[o("el-table",{attrs:{data:e.groupList,"max-height":e.maxHeight}},[o("el-table-column",{attrs:{label:"序号",type:"index",fixed:"left"}}),e._v(" "),o("el-table-column",{attrs:{label:"用户组ID",prop:"groupId",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),o("el-table-column",{attrs:{label:"用户组名称",prop:"groupName",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),o("el-table-column",{attrs:{label:"用户组类型",prop:"groupType",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip,formatter:e.formatGroupTypes}}),e._v(" "),o("el-table-column",{attrs:{label:"创建时间",prop:"createTime",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),o("el-table-column",{attrs:{label:"创建者",prop:"creator",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),o("el-table-column",{attrs:{label:"更新时间",prop:"updateTime",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),o("el-table-column",{attrs:{label:"用户组描述",prop:"groupDesc",align:e.align,"show-overflow-tooltip":e.showOverflowTooltip}}),e._v(" "),o("el-table-column",{attrs:{fixed:e.fixed,width:e.opWidth,align:e.align},scopedSlots:e._u([{key:"header",fn:function(t){return[o("span",[e._v("操作  ")]),e._v(" "),o("span",[o("el-button",{attrs:{size:"mini",round:"",icon:"el-icon-circle-plus",type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)]}},{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-view"},on:{click:function(o){return e.handleClick(t.$index,t.row)}}}),e._v(" "),o("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-edit",type:"primary"},on:{click:function(o){return e.handleEdit(t.$index,t.row)}}}),e._v(" "),o("el-button",{attrs:{size:"mini",circle:"",icon:"el-icon-delete",type:"danger"},on:{click:function(o){return e.handleDelete(t.$index,t.row)}}})]}}])})],1),e._v(" "),o("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizes,"page-size":e.pageSize,layout:e.pglayout,total:e.total,"hide-on-single-page":e.isSiglePageHide,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},staticRenderFns:[]},s=o("VU/8")(l,p,!1,null,null,null);t.default=s.exports},Zqbu:function(e,t,o){"use strict";var r=o("zNUS"),a=o.n(r),n=20,i=[],u={groupId:10001,groupName:"超级管理员用户组",groupType:"admin",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",groupDesc:"超级管理员用户组"},l={groupId:10002,groupName:"普通管理员用户组",groupType:"manager",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",groupDesc:"普通管理员用户组"};i.push({groupId:10003,groupName:"用户组",groupType:"user",createTime:"2020-02-02 02:02:02",creator:"admin",updateTime:"2020-02-02 02:02:02",groupDesc:"用户组"});a.a.mock(/\/mtms\/api\/loadGroups/,function(e){var t={code:0,body:{}};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var o=[],r=JSON.parse(e.body);1==r.currentPage&&(o=new Array(r.pageSize-i.length).fill(u).concat(i)),2==r.currentPage&&(o=new Array(r.pageSize-i.length).fill(l).concat(i)),t.body.data=o,t.body.total=n}return t});a.a.mock(/\/mtms\/api\/saveGroup/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var o=JSON.parse(e.body);console.log(o),i.push(o),n+=1,t.msg="成功"}return t});a.a.mock(/\/mtms\/api\/deleteGroup/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var o=JSON.parse(e.body);console.log(o),i.pop(o),n-=1,t.msg="成功"}return t});a.a.mock(/\/mtms\/api\/updateGroup/,function(e){var t={code:0};if("POST"!=e.type)return t.code=-9,t.msg="请使用POST请求",t;if(e.body){var o=JSON.parse(e.body);console.log(o),u=o,t.msg="成功"}return t});var p=o("zEh/"),s=function(e,t){Object(p.b)("loadGroups",t).then(function(t){if(0!=t.data.code)return console.log(t),void e.$alert(t.data.msg,"温馨提示",{type:"warning"});e.$store.dispatch("group/setGroupList",t.data.body)}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"warning"})})};t.a={$loadGroups:s,$saveGroup:function(e,t){Object(p.b)("saveGroup",t).then(function(t){0==t.data.code?e.$alert("保存成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.group.pageSize,t.currentPage=e.$store.state.group.currentPage,s(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})},$updateGroup:function(e,t){Object(p.b)("updateGroup",t).then(function(t){0==t.data.code?e.$alert("修改成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.group.pageSize,t.currentPage=e.$store.state.group.currentPage,s(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})},$deleteGroup:function(e,t){Object(p.b)("deleteGroup",t).then(function(t){0==t.data.code?e.$alert("删除成功","温馨提示",{type:"success"}).then(function(){e.$emit("isShow",!1);var t={};t.pageSize=e.$store.state.group.pageSize,t.currentPage=e.$store.state.group.currentPage,s(e,t)}):e.$alert(t.data.msg,"温馨提示",{type:"warning"})}).catch(function(t){console.log("接口调用异常："+t),e.$alert(t,"温馨提示",{type:"error"})})}}}});